//==========
// HoundEye
//==========

class HLHoundEye : Actor
{
	Default
	{
		Monster;
		Health 100;
		Mass 120;
		Speed 3.666667;
		Height 45;
		PainChance 128;
		PainChance "Crowbar",252;
		Scale .335;
		MeleeRange 80;
		BloodColor "DE FE 72";
		SeeSound "halflife/monsters/houndeye/sight";
		PainSound "halflife/monsters/houndeye/pain";
		DeathSound "halflife/monsters/houndeye/death";
		ActiveSound "halflife/monsters/houndeye/idle";
	}
	States
	{
	Spawn:
		HLAI A 3 A_Look;
		Loop;
	See:
		HLAW A 1 A_Chase;
		HLAW AA 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLAW B 1 A_Chase;
		HLAW BB 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLAW C 1 A_Chase;
		HLAW CC 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLAW D 1 A_Chase;
		HLAW DD 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLAW E 1 A_Chase;
		HLAW EE 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLAW F 1 A_Chase;
		HLAW FF 1 A_Chase(null,null,HLSMOOTHCHASE);
		TNT1 A 0 A_Jump(32,1);
		Loop;
		TNT1 A 0 A_PlaySound("halflife/monsters/houndeye/idlefull");
		HLAW A 1 A_Chase;
		HLAW AA 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLAW B 1 A_Chase;
		HLAW BB 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLAW C 1 A_Chase;
		HLAW CC 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLAW D 1 A_Chase;
		HLAW DD 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLAW E 1 A_Chase;
		HLAW EE 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLAW F 1 A_Chase;
		HLAW FF 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLAW A 1 A_Chase;
		HLAW AA 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLAW B 1 A_Chase;
		HLAW BB 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLAW C 1 A_Chase;
		HLAW CC 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLAW D 1 A_Chase;
		HLAW DD 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLAW E 1 A_Chase;
		HLAW EE 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLAW F 1 A_Chase;
		HLAW FF 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLAW A 1 A_Chase;
		HLAW AA 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLAW B 1 A_Chase;
		HLAW BB 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLAW C 1 A_Chase;
		HLAW CC 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLAW D 1 A_Chase;
		HLAW DD 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLAW E 1 A_Chase;
		HLAW EE 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLAW F 1 A_Chase;
		HLAW FF 1 A_Chase(null,null,HLSMOOTHCHASE);
		TNT1 A 0
		{
			if(random(0,1))
				A_PlaySound("halflife/monsters/houndeye/idlefull");
		}
		Loop;
	Melee:
		TNT1 A 0 A_FaceTarget;
		HLAA A 4 A_PlaySound("halflife/monsters/houndeye/attackcharge",5);
		HLAA BCBCBCBCBCBCBCBCBCBCB 3;
		HLAA A 7
		{
			A_StopSound(5);
			A_PlaySound("halflife/monsters/houndeye/attackblast");
			for(int i=0;i<360;i++)
			{
				A_SpawnProjectile("HoundEyeShockWFast",0,0,i);
				A_SpawnProjectile("HoundEyeShockWSlow",0,0,i);
			}
		}
		Goto See;
	Pain:
		TNT1 A 0 A_StopSound(5);
		HLAP A 8 A_Pain;
		Goto See;
	Death:
		TNT1 A 0 A_StopSound(5);
		HLAD A 5 A_Scream;
		HLAD B 4 A_Fall;
		TNT1 A 0 A_PlaySound("halflife/weapons/bodydrop");
		HLAD CDE 4;
		HLAD F -1;
		Stop;
	XDeath:
		TNT1 A 0 A_PlaySound("other/gibdeath");
	  	TNT1 AAAAAAAAAAAAAA 0 A_SpawnItemEx("XenGibs",random(5,-5),random(5,-5),random(10,40),random(1,7),random(1,7),random(5,13),random(0,359));
		Stop;
	}
}

class HoundEyeShockWFast : Actor
{
	Default
	{
		Speed 19;
		DamageFunction (1);
		Radius 12;
		Height 16;
		RenderStyle "Translucent";
		Alpha .3;
		PROJECTILE;
		+DROPOFF
		-NoGravity
		+FloorHugger
		+Ripper
		Scale .4;
	}
	States
	{
	Spawn:
		HSHK ABC 3;
	Death:
		HSHK C 0;
		Stop;
	}
}

class HoundEyeShockWSlow : HoundEyeShockWFast
{
	Default
	{
		Speed 12;
	}
}