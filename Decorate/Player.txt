//===============
// Custom Player 
//===============

ACTOR NoWeapon : Weapon
{
   weapon.selectionorder 4000
   +NOALERT
   States
   {
      Ready:
      TNT1 A 1 A_WeaponReady
      loop
      Deselect:
      TNT1 A 1 A_Lower
      loop
      Select:
      TNT1 A 1 A_Raise
      loop
      Fire:
      TNT1 A 1
      TNT1 A 1 A_ReFire 
      TNT1 A 1
      goto Ready
    }
}

ACTOR CascadeChecker : QuestItem1
{
}

ACTOR RolfBellmer : PlayerPawn
{
	Speed 1
	Health 100
	Radius 16
	Height 60
	Mass 100
	PainChance 255
	Player.ColorRange 0, 0
	Scale 0.25
	//Player.CrouchSprite "HPLC"
	Player.DisplayName "Rolf Bellmer"
	Player.RunHealth 15
	Player.ViewHeight 56
	Player.AttackZOffset 24
	Player.StartItem "NoWeapon"
	States
	{
	Spawn:
		TNT1 A 0 A_JumpIfInventory ("CascadeChecker", 1, "SpawnScientist")
		
		//fallthrough
		
		SpawnHEV:
			HPLM A 1
			Goto Spawn

		SpawnScientist:
			//HP2I A 1 <- Doesn't work :(
			HP2W ABCDEF 4
			Goto Spawn


	See:
		TNT1 A 0 A_JumpIfInventory ("CascadeChecker", 1, "SeeScientist")
		//fallthrough
		
		SeeHEV:
			HPLW ABCDEF 4 
			Goto See

		SeeScientist:
			HP2W ABCDEF 4 
			Goto See


	Missile:
		TNT1 A 0 A_JumpIfInventory ("CascadeChecker", 1, "MissileScientist")
		//fallthrough
		
		MissileHEV:
			HPLM AA 3
			HPLM BC 3
		Goto Spawn

		MissileScientist:
			HP2I CC 3
			HP2I CC 3
		Goto Spawn

	Melee:
		TNT1 A 0 A_JumpIfInventory ("CascadeChecker", 1, "MeleeScientist")
		//fallthrough
		
		MeleeHEV:
			HPLM AA 3
			HPLM BC 3
			Goto Spawn
		
		MeleeScientist:
			HP2I BB 3
			HP2I BB 3
			Goto Spawn
	Pain:
		TNT1 A 0 A_JumpIfInventory ("CascadeChecker", 1, "PainScientist")
		//fallthrough
		
		PainHEV:
			HPLP A 4
			HPLP A 4 A_Pain
			Goto Spawn

		PainScientist:
			HP2P A 4
			HP2P A 4 A_PlaySound("HLPlayerScientistPain")
			Goto Spawn

	Death:
		TNT1 A 0 A_JumpIfInventory ("CascadeChecker", 1, "DeathScientist")
		//fallthrough
		
		DeathHEV:
			HPLD A 1
			HPLD A 1 A_PlaySound("HLPlayerHEVFail")
			HPLD A 2 A_PlayerScream
			HPLD B 3 A_NoBlocking
			HPLD CDEFGHIJKLMNOP 3
			HPLD Q -1
			Stop

		DeathScientist:
			HP2D A 1
			HP2D A 3 A_PlaySound("HLPlayerScientistDeath")
			HP2D B 3 A_NoBlocking
			HP2D CDEFGHIJKL 3
			HP2D M -1
			Stop

	XDeath:
		TNT1 A 0 A_JumpIfInventory ("CascadeChecker", 1, "XDeathScientist")
		//fallthrough
		
		XDeathHEV:
			HPLD A 1
			HPLD A 1 A_PlaySound("HLPlayerHEVFail")
			HPLD A 2 A_XScream
			HPLD B 3 A_NoBlocking
			HPLD CDEFGHIJKLMNOP 3
			HPLD Q -1
			Stop

		XDeathScientist:
			HP2D A 1
			HP2D A 3 A_PlaySound("HLPlayerScientistDeath")
			HP2D B 3 A_NoBlocking
			HP2D CDEFGHIJKL 3
			HP2D M -1
			Stop
	}
}