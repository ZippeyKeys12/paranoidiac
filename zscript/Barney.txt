//=========
// Barney
//=========

class HLBarney : Actor
{
	Default
	{
		Monster;
		Health 150;
		Speed 4;
		Height 63;
		PainChance 128;
		Scale 0.366;
		SeeSound "halflife/monsters/barney/sight";
		PainSound "halflife/monsters/barney/pain";
		DeathSound "halflife/monsters/barney/death";
	//	ActiveSound "halflife/monsters/barney/idle";
		maxdropoffheight 64;
		dropitem "PistolPickup";
		+FRIENDLY
		-COUNTKILL
	}
	States
	{
	Spawn:
		HLMI B 3 A_Look;		//frame A is the regular pose with weapon in hand.
		Loop;
	See:
		HLMW A 1 A_Chase;
		HLMW AAA 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLMW B 1 A_Chase;
		HLMW BBB 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLMW C 1 A_Chase;
		HLMW CCC 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLMW D 1 A_Chase;
		HLMW DDD 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLMW E 1 A_Chase;
		HLMW EEE 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLMW F 1 A_Chase;
		HLMW FFF 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLMW A 1 A_Chase;
		HLMW AAA 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLMW B 1 A_Chase;
		HLMW BBB 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLMW C 1 A_Chase;
		HLMW CCC 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLMW D 1 A_Chase;
		HLMW DDD 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLMW E 1 A_Chase;
		HLMW EEE 1 A_Chase(null,null,HLSMOOTHCHASE);
		HLMW F 1 A_Chase;
		HLMW FFF 1 A_Chase(null,null,HLSMOOTHCHASE);
		TNT1 A 0
		{
			if(random(0,255)<8)
				A_PlaySound("halflife/monsters/barney/idle");
		}
		Loop;
	Missile:
		HLMI AA 4 A_FaceTarget;
		HLMM ABC 4 A_FaceTarget;
		TNT1 A 0 A_Jump(64,"Magnum");
	Pistol:
		HLMM C 2 A_FaceTarget;
		TNT1 A 0 A_PlaySound("halflife/weapons/pistol",5);
		TNT1 AA 0 A_SpawnItemEx("GunSmallSmoke",20,2,52);
		HLMM D 5 Light("ImShootingAGun") A_CustomBulletAttack(7,7,1,5,"BulletPuff");
		HLMM CC 3 A_FaceTarget;
		TNT1 A 0 A_MonsterRefire(0,"See");
		Loop;
	Magnum:
		HLMM C 4 A_FaceTarget;
		TNT1 A 0 A_PlaySound("halflife/weapons/magnumshot",5);
		TNT1 AA 0 A_SpawnItemEx("GunSmoke",20,2,52);
		HLMM D 5 Light("ImShootingAGun") A_CustomBulletAttack(2,2,1,25,"BulletPuff");
		HLMM CCCCC 8 A_FaceTarget;
		TNT1 A 0 A_MonsterRefire(0,"See");
		TNT1 A 0 A_PlaySound("halflife/weapons/magnumshot",5);
		TNT1 AA 0 A_SpawnItemEx("GunSmoke",20,2,52);
		HLMM D 5 Light("ImShootingAGun") A_CustomBulletAttack(2,2,1,25,"BulletPuff");
		HLMM CCCCC 8 A_FaceTarget;
		Goto See;
	Pain:
		HLMP A 8 A_Pain;
		Goto See;
	Death:
		HLMD A 2 A_Scream;
		HLMD B 2 A_NoBlocking;
		HLMD CDEFG 3;
		HLMD H 3 A_PlaySound("halflife/weapons/bodydrop");
		HLMD I -1;
		Stop;
	XDeath:
		TNT1 A 1
		{
			A_PlaySound("other/gibdeath");
			A_SpawnItemEx("BloodGibDropper",0,0,random(20,40));
			A_NoBlocking();
		}
		Stop;
	}
}